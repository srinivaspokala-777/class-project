<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>SIGNIN PAGE</title>



    <link rel="stylesheet" href="style.css">



</head>

<body>

     <div class="container1">

        <form class="content">

            <table>

                <tr>

                    <td colspan="2" align="center">

                        <p> Sign In Here </p>

                    </td>

                </tr>

                <tr>

                    <td> User Name </td>

                    <td> <input type="text" name="un" placeholder="enter un" required /> </td>

                </tr>

                <tr>

                    <td> Password </td>

                    <td> <input type="password" name="pw" placeholder="enter pw" required /> </td>

                </tr>

                <tr>

                    <td colspan="2" align="center">

                        <input type="submit" value="Sign In" />

                    </td>

                </tr>

            </table>

        </form>

    </div>



    <script>

        document.getElementsByTagName("form")[0].addEventListener("submit", (e)=>{

            e.preventDefault();

            const fd = new FormData(e.target);

            if (localStorage.getItem("users")) {

                const users = JSON.parse(localStorage.getItem("users"));

                users.forEach((obj)=>{

                    if(obj.username === fd.get("un") && obj.password === fd.get("pw")){

                        localStorage.setItem("cu", JSON.stringify(obj));

                        alert("Sign In Successful! - " + "Welcome " + obj.username);

                        window.location.href = "products.html";

                    }

                });

            }

            else {

                window.location.href = "signup.html";

            }

        });

    </script>

</body>

</html>